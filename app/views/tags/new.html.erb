<turbo-frame id="modal" data-controller="modal">
  <div class="fixed inset-0 flex items-center justify-center z-50" data-modal-target="child">
    <div class="bg-white rounded-lg border border-gray-200 p-6 max-w-3xl w-full mx-4">
    <!-- タイトル行 -->
    <div class="flex items-center justify-between mb-6">
      <h2 class="text-2xl font-bold text-gray-800">新規タグ作成</h2>
    </div>

    <!-- フォーム本体 -->
    <%= form_with model: @tag, url: tags_path, method: :post, local: true do |f| %>
      <div class="space-y-6" data-controller="get-color">
        <!-- タグ名 -->
        <div>
          <label class="block text-sm font-semibold text-gray-700 mb-2">タグ名</label>
          <%= f.text_field :name, placeholder: "例: TypeScript", class: "w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500" %>
        </div>

        <!-- タグの色 -->
        <div>
          <label class="block text-sm font-semibold text-gray-700 mb-2">タグの色</label>
          <div class="flex gap-3">
            <%= f.color_field :color, class: "w-16 h-10 rounded border border-gray-300 cursor-pointer", data: { get_color_target: "picker", action: "input->get-color#getColor" } %>
            <%= f.text_field :color, placeholder: "#000000", class: "flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 font-mono text-sm",
                value: "#000000", data: { get_color_target: "text" } %>
          </div>
        </div>

        <!-- プレビュー -->
        <div class="flex items-center gap-2">
          <span class="text-sm text-gray-600">プレビュー:</span>
          <span id="tag-preview"
                class="px-3 py-1 text-sm rounded-full font-medium border"
                style="background-color: #bcbdbe20; color: #000000; border-color: #67676840;", data-get-color-target="preview">
            #タグ名
          </span>
        </div>

        <!-- ボタン -->
        <div class="flex gap-3 pt-4">
          <button type="button" class="flex-1 px-6 py-3 border rounded-lg text-center hover:bg-gray-50" data-action="click->modal#close">キャンセル</button>
          <%= f.submit "作成する", class: "flex-1 px-6 py-3 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors" %>
        </div>
      </div>
    <% end %>
    </div>
  </div>
</turbo-frame>
